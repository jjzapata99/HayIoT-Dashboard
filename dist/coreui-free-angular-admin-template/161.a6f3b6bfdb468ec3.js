"use strict";(self.webpackChunkcoreui_free_angular_admin_template=self.webpackChunkcoreui_free_angular_admin_template||[]).push([[161],{6161:(U,g,l)=>{l.r(g),l.d(g,{RegistroModule:()=>F});var d=l(4755),f=l(432),t=l(9523),_=l(7172),c=l(5030),n=l(536);function m(e,s){if(1&e&&(t.TgZ(0,"option",24),t._uU(1),t.qZA()),2&e){const i=s.$implicit;t.s9C("value",i.id),t.xp6(1),t.Oqu(i.id)}}function h(e,s){if(1&e&&(t.TgZ(0,"option",24),t._uU(1),t.qZA()),2&e){const i=s.$implicit;t.s9C("value",i.id),t.xp6(1),t.Oqu(i.id)}}function v(e,s){if(1&e&&(t.TgZ(0,"option"),t._uU(1),t.qZA()),2&e){const i=s.$implicit;t.xp6(1),t.Oqu(i)}}function x(e,s){if(1&e&&(t.TgZ(0,"label"),t._uU(1),t.qZA()),2&e){const i=t.oxw(2);t.xp6(1),t.hij("La id del sensor es: ",i.idSensor,"")}}function q(e,s){if(1&e){const i=t.EpF();t.TgZ(0,"div")(1,"c-input-group",12)(2,"c-row",13)(3,"select",null,14)(5,"option",15),t._uU(6," Sitio "),t.qZA(),t.YNc(7,m,2,2,"option",16),t.qZA(),t.TgZ(8,"select",null,17)(10,"option",15),t._uU(11," Equipo "),t.qZA(),t.YNc(12,h,2,2,"option",16),t.qZA(),t._UZ(13,"input",18,19),t.TgZ(15,"select",20,21)(17,"option",15),t._uU(18," Tipo "),t.qZA(),t.YNc(19,v,2,1,"option",22),t.qZA(),t.YNc(20,x,2,1,"label",10),t.qZA(),t.TgZ(21,"button",23),t.NdJ("click",function(){t.CHM(i);const r=t.MAs(4),a=t.MAs(9),u=t.MAs(14),p=t.MAs(16);return t.oxw().sendDataSensor(r.value,a.value,u.value,p.value),r.value="Sitio",a.value="Equipo",u.value="",t.KtG(p.value="")}),t._uU(22,"Registrar"),t.qZA()()()}if(2&e){const i=t.oxw();t.xp6(7),t.Q6J("ngForOf",i.siteList),t.xp6(5),t.Q6J("ngForOf",i.equipList),t.xp6(7),t.Q6J("ngForOf",i.etiquetasDisponibles),t.xp6(1),t.Q6J("ngIf",""!=i.idSensor)}}function Z(e,s){if(1&e&&(t.TgZ(0,"option",24),t._uU(1),t.qZA()),2&e){const i=s.$implicit;t.s9C("value",i.id),t.xp6(1),t.Oqu(i.id)}}function b(e,s){if(1&e){const i=t.EpF();t.TgZ(0,"div")(1,"c-input-group",12)(2,"c-row",25)(3,"select",null,14)(5,"option",15),t._uU(6," Sitio "),t.qZA(),t.YNc(7,Z,2,2,"option",16),t.qZA(),t._UZ(8,"input",26,27)(10,"input",28,17),t.qZA(),t.TgZ(12,"button",29),t.NdJ("click",function(){t.CHM(i);const r=t.MAs(9),a=t.MAs(4),u=t.MAs(11);return t.oxw().sendDataEquip(r.value,a.value,u.value),r.value="",a.value="Sitio",t.KtG(u.value="")}),t._uU(13,"Registrar"),t.qZA()()()}if(2&e){const i=t.oxw();t.xp6(7),t.Q6J("ngForOf",i.siteList)}}function T(e,s){if(1&e){const i=t.EpF();t.TgZ(0,"div")(1,"c-input-group",12)(2,"c-row",30),t._UZ(3,"input",26,27)(5,"input",31,19),t.qZA(),t.TgZ(7,"button",29),t.NdJ("click",function(){t.CHM(i);const r=t.MAs(4),a=t.MAs(6);return t.oxw().sendDataSite(r.value,a.value),r.value="",t.KtG(a.value="")}),t._uU(8,"Registrar"),t.qZA()()()}}function C(e,s){1&e&&(t.TgZ(0,"span",32),t._uU(1,"\xa1Error en los Datos Ingresados!"),t.qZA())}const A=[{path:"",component:(()=>{class e{constructor(i,o){this.api=i,this.formBuilder=o,this.etiquetasDisponibles=["temp","thermal","time","electricity"],this.idSensor="",this.valid=!1,this.fetchEquips(),this.fetchSites()}changeEntidad(i){this.tipoEntidad=i.target.value,"sensor"==this.tipoEntidad?(this.valid=!1,this.fetchEquips(),this.fetchSites()):"equipo"==this.tipoEntidad?(this.valid=!1,this.fetchSites()):"sitio"==this.tipoEntidad&&(this.valid=!1)}fetchSites(){this.api.getQuery("getSites").subscribe(o=>{this.siteList=o})}fetchEquips(){this.api.getQuery("getEquips").subscribe(o=>{this.equipList=o})}sendDataSensor(i,o,r,a){""!=r.toString()&&"Sitio"!=i&&"Equipo"!=o&&"Tipo"!=a?(this.valid=!1,this.api.putQuery("pushSensor/",{siteRef:i,equipRef:o,description:r,type:a}).subscribe(p=>{this.idSensor=p})):(this.valid=!0,console.log("Validar datos ingresados"))}sendDataEquip(i,o,r){""!=i.toString()&&""!=r.toString()&&"Sitio"!=o?(this.valid=!1,this.api.putQuery("pushEquip/",{id:i,siteRef:o,equip:r}).subscribe(u=>{1==u?this.fetchEquips():0==u&&console.log("erorrsfas")})):(this.valid=!0,console.log("Validar datos ingresados"))}sendDataSite(i,o){""!=i.toString()&&""!=o.toString()?(this.valid=!1,this.api.putQuery("pushSite/",{id:i,site:o}).subscribe(a=>{1==a&&this.fetchSites()})):(this.valid=!0,console.log("Validar datos ingresados"))}}return e.\u0275fac=function(i){return new(i||e)(t.Y36(_.S),t.Y36(c.qu))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-registrar"]],decls:21,vars:5,consts:[[1,"mb-4"],[1,"p-4",2,"align-self","center","text-align","center"],[2,"text-align-last","center"],[1,"mb-3"],["cInputGroupText","","for","tipoEntidad"],["cSelect","","id","tipoEntidad","name","tipoEntidad",3,"value","change"],["value","sensor"],["value","equipo"],["value","sitio"],["cForm","",1,"row","g-3","needs-validation"],[4,"ngIf"],["style","color: #cf2f4c",4,"ngIf"],[1,"mb-3",2,"justify-content","center"],[1,"px-4","py-1"],["site",""],["selected",""],[3,"value",4,"ngFor","ngForOf"],["equip",""],["aria-label","Text input with dropdown  button","id","equip1","required","","type","text","placeholder","Descripci\xf3n","cFormControl",""],["description",""],["aria-label","Default select example","cSelect","","sizing","s",2,"flex","0.5"],["option",""],[4,"ngFor","ngForOf"],["cButton","","type","submit",3,"click"],[3,"value"],[1,"px-4","py-2"],["aria-label","Text input with dropdown button","placeholder","Identificador","cFormControl",""],["id",""],["aria-label","Text input with dropdown button","placeholder","Equipo","cFormControl",""],["type","submit",3,"click"],[1,"pr-3","px-4","py-4"],["aria-label","Text input with dropdown button","placeholder","Descripci\xf3n","cFormControl",""],[2,"color","#cf2f4c"]],template:function(i,o){1&i&&(t.TgZ(0,"c-card",0)(1,"c-card-body",1)(2,"c-row",2)(3,"h1"),t._uU(4,"Registrar Entidad"),t.qZA()(),t.TgZ(5,"div")(6,"c-input-group",3)(7,"label",4),t._uU(8," Tipo "),t.qZA(),t.TgZ(9,"select",5),t.NdJ("change",function(a){return o.changeEntidad(a)}),t.TgZ(10,"option",6),t._uU(11,"Sensor"),t.qZA(),t.TgZ(12,"option",7),t._uU(13,"Equipo"),t.qZA(),t.TgZ(14,"option",8),t._uU(15,"Sitio"),t.qZA()()()(),t.TgZ(16,"form",9),t.YNc(17,q,23,4,"div",10),t.YNc(18,b,14,1,"div",10),t.YNc(19,T,9,0,"div",10),t.YNc(20,C,2,0,"span",11),t.qZA()()()),2&i&&(t.xp6(9),t.Q6J("value",o.tipoEntidad),t.xp6(8),t.Q6J("ngIf","sensor"===o.tipoEntidad),t.xp6(1),t.Q6J("ngIf","equipo"===o.tipoEntidad),t.xp6(1),t.Q6J("ngIf","sitio"===o.tipoEntidad),t.xp6(1),t.Q6J("ngIf",o.valid))},dependencies:[d.sg,d.O5,n.AkF,n.yue,n.iok,c._Y,c.YN,c.Kr,c.JL,n.Hq3,n.$_X,n.oHf,n.nqR,n.g8K,n.jOm,c.F],styles:['@charset "UTF-8";h1[_ngcontent-%COMP%]{font-family:Arial;font-weight:700;font-size:21px;margin-bottom:20px}form[_ngcontent-%COMP%]{width:300px;overflow-x:hidden}.textfield_register[_ngcontent-%COMP%]{margin-bottom:10px}label[_ngcontent-%COMP%]{display:block;font-size:14px}input[type=text][_ngcontent-%COMP%], select[_ngcontent-%COMP%]{width:100%;padding:8px;border:1px solid #ccc;border-radius:2px;font-size:14px;box-sizing:border-box}input[type=checkbox][_ngcontent-%COMP%]{margin-right:2px}button[type=submit][_ngcontent-%COMP%]{background-color:#301cdf;color:#fff;padding:8px 12px;border:none;border-radius:4px;font-size:14px;cursor:pointer}button[type=submit][_ngcontent-%COMP%]:hover{background-color:#5541e1}@media (max-width: 480px){form[_ngcontent-%COMP%]{width:100%}}']}),e})()}];let R=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[f.Bz.forChild(A),f.Bz]}),e})();var y=l(2570),S=l(6702),E=l(805),M=l(9865);let F=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[d.ez,R,n.dTQ,n.dGk,S.QX,n.P4_,n.zE6,n.qek,c.UX,n.hJ1,n.ejP,n.hJ1,n.ga2,y.N,n.FxY,n.U$I,E.WidgetsModule,M.CoreUIFormsModule,c.u5]}),e})()}}]);