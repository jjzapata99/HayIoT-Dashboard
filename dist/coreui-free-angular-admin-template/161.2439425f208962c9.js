"use strict";(self.webpackChunkcoreui_free_angular_admin_template=self.webpackChunkcoreui_free_angular_admin_template||[]).push([[161],{6161:(R,g,u)=>{u.r(g),u.d(g,{RegistroModule:()=>T});var p=u(4755),m=u(432),n=u(5030),t=u(9523),f=u(7172),o=u(536);function h(i,s){if(1&i&&(t.TgZ(0,"option"),t._uU(1),t.qZA()),2&i){const e=s.$implicit;t.xp6(1),t.Oqu(e)}}function _(i,s){if(1&i&&(t.TgZ(0,"label"),t._uU(1),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.hij("La id del sensor es: ",e.idSensor,"")}}function b(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div")(1,"c-input-group",13)(2,"c-row",14)(3,"label"),t._uU(4,"Sitio:"),t.qZA(),t._UZ(5,"input",15,16),t.TgZ(7,"label"),t._uU(8,"Equipo:"),t.qZA(),t._UZ(9,"input",15,17),t.TgZ(11,"label"),t._uU(12,"Descripci\xf3n:"),t.qZA(),t._UZ(13,"input",15,18),t.TgZ(15,"label"),t._uU(16,"Tipos disponibles:"),t.qZA(),t.TgZ(17,"select",19,20),t.YNc(19,h,2,1,"option",21),t.qZA(),t.YNc(20,_,2,1,"label",12),t.qZA(),t.TgZ(21,"button",22),t.NdJ("click",function(){t.CHM(e);const c=t.MAs(6),a=t.MAs(10),d=t.MAs(14),l=t.MAs(18),A=t.oxw();return t.KtG(A.sendDataSensor(c.value,a.value,d.value,l.value))}),t._uU(22,"Registrar"),t.qZA()()()}if(2&i){const e=t.oxw();t.xp6(19),t.Q6J("ngForOf",e.etiquetasDisponibles),t.xp6(1),t.Q6J("ngIf",""!=e.idSensor)}}function q(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div")(1,"c-input-group",13)(2,"c-row",14)(3,"label"),t._uU(4,"Sitio:"),t.qZA(),t._UZ(5,"input",15,16),t.TgZ(7,"label"),t._uU(8,"Identificador:"),t.qZA(),t._UZ(9,"input",15,23),t.TgZ(11,"label"),t._uU(12,"Equipo:"),t.qZA(),t._UZ(13,"input",15,17),t.qZA(),t.TgZ(15,"button",22),t.NdJ("click",function(){t.CHM(e);const c=t.MAs(10),a=t.MAs(6),d=t.MAs(14),l=t.oxw();return t.KtG(l.sendDataEquip(c.value,a.value,d.value))}),t._uU(16,"Registrar"),t.qZA()()()}}const x=[{path:"",component:(()=>{class i{constructor(e,r){this.api=e,this.formBuilder=r,this.etiquetasDisponibles=["temp","thermal","time","electricity"],this.idSensor=""}registrarEntidad(e){this.form.valid?console.log(this.form.value):console.log("No es valido"),console.log(this.tipoEntidad),e.preventDefault()}changeEntidad(e){this.tipoEntidad=e.target.value,"sensor"==this.tipoEntidad?this.form=this.formBuilder.group({sitio:["",n.kI.required],equipo:["",n.kI.required],identificador:["",n.kI.required],descripcion:["",[n.kI.required]],unidad:["",n.kI.required],etiqueta:["",n.kI.required]}):"equipo"==this.tipoEntidad?this.form=this.formBuilder.group({sitio:["",n.kI.required],identificador:["",[n.kI.required]],equipo:["",n.kI.required]}):"sitio"==this.tipoEntidad&&(this.form=this.formBuilder.group({identificador:["",n.kI.required],area:["",[n.kI.required]]}))}onChange(e){this.isChecked=!this.isChecked,this.isCheckedName=e.target.name}sendDataSensor(e,r,c,a){this.api.putQuery("pushSensor/",{siteRef:e,equipRef:r,description:c,type:a}).subscribe(l=>{this.idSensor=l,console.log(l)})}sendDataEquip(e,r,c){this.api.putQuery("pushEquip/",{id:e,siteRef:r,equip:c}).subscribe(d=>{console.log(d)})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(f.S),t.Y36(n.qu))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-registrar"]],decls:21,vars:3,consts:[[1,"mb-4"],[1,"bg-light","min-vh-50","d-flex","flex-row","align-items-center"],[1,"justify-content-center"],["lg","20","md","20","xl","20"],[1,"mx-1"],[1,"p-4",2,"align-self","center"],[3,"submit"],[1,"mb-3"],["cInputGroupText","","for","tipoEntidad"],["cSelect","","id","tipoEntidad","name","tipoEntidad",3,"value","change"],["value","sensor"],["value","equipo"],[4,"ngIf"],[1,"mb-3",2,"justify-content","center"],[1,"mt-1","mb-3","pr-3","px-4","py-4"],["aria-label","Text input with dropdown button","cFormControl",""],["site",""],["equip",""],["description",""],["aria-label","Default select example","cSelect","","sizing","s",2,"flex","0.5"],["option",""],[4,"ngFor","ngForOf"],["type","submit",3,"click"],["id",""]],template:function(e,r){1&e&&(t.TgZ(0,"c-card",0)(1,"div",1)(2,"c-container")(3,"c-row",2)(4,"c-col",3)(5,"c-card",4)(6,"c-card-body",5)(7,"h1"),t._uU(8,"Registrar Entidad"),t.qZA(),t.TgZ(9,"form",6),t.NdJ("submit",function(a){return r.registrarEntidad(a)}),t.TgZ(10,"div")(11,"c-input-group",7)(12,"label",8),t._uU(13," Tipo "),t.qZA(),t.TgZ(14,"select",9),t.NdJ("change",function(a){return r.changeEntidad(a)}),t.TgZ(15,"option",10),t._uU(16,"Sensor"),t.qZA(),t.TgZ(17,"option",11),t._uU(18,"Equipo"),t.qZA()()()(),t.YNc(19,b,23,2,"div",12),t.YNc(20,q,17,0,"div",12),t.qZA()()()()()()()()),2&e&&(t.xp6(14),t.Q6J("value",r.tipoEntidad),t.xp6(5),t.Q6J("ngIf","sensor"===r.tipoEntidad),t.xp6(1),t.Q6J("ngIf","equipo"===r.tipoEntidad))},dependencies:[p.sg,p.O5,o.AkF,o.yue,o.Yp0,o.e$z,o.iok,n._Y,n.YN,n.Kr,n.JL,o.oHf,o.nqR,o.g8K,o.jOm],styles:['@charset "UTF-8";h1[_ngcontent-%COMP%]{font-family:Arial;font-weight:700;font-size:21px;margin-bottom:20px}form[_ngcontent-%COMP%]{width:300px;overflow-x:hidden}.textfield_register[_ngcontent-%COMP%]{margin-bottom:10px}label[_ngcontent-%COMP%]{display:block;font-size:14px}input[type=text][_ngcontent-%COMP%], select[_ngcontent-%COMP%]{width:100%;padding:8px;border:1px solid #ccc;border-radius:2px;font-size:14px;box-sizing:border-box}input[type=checkbox][_ngcontent-%COMP%]{margin-right:2px}button[type=submit][_ngcontent-%COMP%]{background-color:#301cdf;color:#fff;padding:8px 12px;border:none;border-radius:4px;font-size:14px;cursor:pointer}button[type=submit][_ngcontent-%COMP%]:hover{background-color:#5541e1}@media (max-width: 480px){form[_ngcontent-%COMP%]{width:100%}}']}),i})()}];let Z=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[m.Bz.forChild(x),m.Bz]}),i})();var v=u(2570),C=u(6702);let T=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[p.ez,Z,o.dTQ,o.dGk,C.QX,o.P4_,o.zE6,o.qek,n.UX,o.hJ1,o.ejP,o.hJ1,o.ga2,v.N,o.FxY,o.U$I]}),i})()}}]);